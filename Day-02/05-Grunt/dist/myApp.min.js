/*! gruntApp 06-09-2015 */
function doWork(){for(var a=0;1e4>a;a++){for(var b=0;1e4>b;b++)for(var c=0;100>c;c++);if(a%100===0){var d=a/1e4*100,e={type:"progress",percentCompleted:d};self.postMessage(e)}}}function triggerWork(){doWork(),console.log("job done");var a={type:"completed"};self.postMessage(a)}function describe(a,b){console.group(a),b(),console.groupEnd()}self.addEventListener("message",function(a){var b=a.data;"start"===b.type?triggerWork():console.log("unknown message from caller ",a.data)});var products=[{id:3,name:"Pen",cost:50,units:70,category:10},{id:6,name:"Hen",cost:80,units:80,category:20},{id:8,name:"Ten",cost:30,units:40,category:10},{id:2,name:"Den",cost:70,units:50,category:20},{id:4,name:"Zen",cost:60,units:20,category:10}];describe("default list",function(){console.table(products)}),describe("sort",function(){describe("Default [Products By Id]",function(){function a(){for(var a=0;a<products.length-1;a++)for(var b=a+1;b<products.length;b++)if(products[a].id>products[b].id){var c=products[a];products[a]=products[b],products[b]=c}}a(),console.table(products)}),describe("Generic Sort",function(){describe("By Attribute",function(){function a(a,b){for(var c=0;c<a.length-1;c++)for(var d=c+1;d<a.length;d++)if(a[c][b]>a[d][b]){var e=a[c];a[c]=a[d],a[d]=e}}describe("Product By Cost",function(){a(products,"cost"),console.table(products)}),describe("Product By Units",function(){a(products,"units"),console.table(products)})})}),describe("By Any Comparison",function(){function a(a,b){for(var c=0;c<a.length-1;c++)for(var d=c+1;d<a.length;d++)if(b(products[c],products[d])>0){var e=a[c];a[c]=a[d],a[d]=e}}var b=function(a,b){var c=a.units*a.cost,d=b.units*b.cost;return d>c?-1:c===d?0:1};describe("Product By Value [units * cost]",function(){a(products,b),console.table(products)})})}),describe("filter",function(){describe("All costly products",function(){function a(){for(var a=[],b=0;b<products.length;b++)products[b].cost>50&&a.push(products[b]);return a}var b=a();console.table(b)}),describe("Generic Filter",function(){function a(a,b){for(var c=[],d=0;d<a.length;d++)b(products[d])&&c.push(products[d]);return c}function b(a){return function(){return!a.apply(this,arguments)}}var c=function(a){return a.cost>50};describe("Costly Products",function(){var b=a(products,c);console.table(b)});var d=b(c);describe("Affordable Products",function(){var b=a(products,d);console.table(b)});var e=function(a){return 10===a.category};describe("Category 10 products",function(){var b=a(products,e);console.table(b)});var f=b(e);describe("Non Category 10 products",function(){var b=a(products,f);console.table(b)})})}),describe("some",function(){function a(a,b){for(var c=0;c<a.length;c++)if(b(a[c]))return!0;return!1}console.log("Are there any costly products ? :",a(products,function(a){return a.cost>50}))}),describe("all",function(){function a(a,b){for(var c=0;c<a.length;c++)if(!b(a[c]))return!1;return!0}console.log("Are all products costly ? :",a(products,function(a){return a.cost>50}))}),describe("group by",function(){function a(a,b){for(var c={},d=0;d<a.length;d++){var e=b(a[d]);c[e]=c[e]||[],c[e].push(a[d])}return c}function b(a){var b=function(a){return function(){console.table(a[c])}};for(var c in a)describe("Key - "+c,b(a))}describe("products by category",function(){var c=function(a){return a.category},d=a(products,c);b(d)}),describe("products by cost",function(){var c=function(a){return a.cost>50?"costly":"affordable"},d=a(products,c);b(d)})}),describe("min",function(){function a(a,b){for(var c=b(a[0]),d=1;d<a.length;d++){var e=b(a[d]);c>e&&(c=e)}return c}console.log("Min cost = ",a(products,function(a){return a.cost}))});var x=10;
